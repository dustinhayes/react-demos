<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>React Demos | State</title>
</head>
<body>
    <div id="root"></div>
    
    <script src="http://fb.me/react-0.12.2.js"></script>
    <script src="http://fb.me/JSXTransformer-0.12.2.js"></script>
    <script type="text/jsx">
        var Timer = React.createClass({
            /**
             * Exercise:
             *
             * Refactor to allow the start date to be specified as a property.
             */
            getInitialState: function () {
                var time = Date.parse(this.props.time);

                return { time: time };
            },

            componentDidMount: function () {
                window.setInterval(function () {
                    this.setState({
                        time: this.state.time + 1000
                    });
                }.bind(this), 1000);
            },

            render: function () {
                var time = new Date(this.state.time).toString();

                return (
                    <p>{time}</p>
                );
            }
        });

        React.render(<Timer time="Jun 29, 1989 6:00" />,
            document.getElementById('root'));
    </script>
</body>
</html>